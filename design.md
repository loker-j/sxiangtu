# 项目结构与技术要点

## 项目概述
这是一个使用 Vite + React 搭建的前端项目模板，采用现代化的开发工具链。

## 目录结构
my-lottery-app/
├── src/
│ ├── assets/
│ │ └── react.svg
│ ├── App.jsx # 主应用组件
│ ├── App.css # 应用级样式
│ ├── main.jsx # 应用入口
│ └── index.css # 全局样式
├── public/
│ └── vite.svg
├── index.html # HTML 模板
├── package.json # 项目配置和依赖
├── vite.config.js # Vite 配置
└── eslint.config.js # ESLint 配置

## 技术栈
- **构建工具**: Vite v5.4.10
- **前端框架**: React v18.3.1
- **语言**: JavaScript (JSX)
- **代码规范**: ESLint

## 关键配置

### Vite 配置
使用 @vitejs/plugin-react 插件支持 React 开发。

### ESLint 配置
集成了以下规则集：
- JavaScript 推荐规则
- React 推荐规则
- React Hooks 规则
- React Refresh 规则

### 样式方案
- 采用原生 CSS
- 支持暗色/亮色主题切换
- 响应式设计支持

### 开发脚本
- `npm run dev`: 启动开发服务器
- `npm run build`: 构建生产版本
- `npm run preview`: 预览生产构建
- `npm run lint`: 运行代码检查

## 性能优化
1. 使用 React.StrictMode 确保最佳实践
2. CSS will-change 优化动画性能
3. 支持 HMR（模块热替换）

## 浏览器兼容性
- 现代浏览器支持
- 包含必要的 polyfills
- 针对不同色彩主题的适配

## 代码规范
- 使用 ESLint 进行代码质量控制
- 采用 JSX Runtime 优化
- 强制组件导出规范

## 首页设计要点

### 页面布局
- **页面标题区域**
  - 主标题：抽奖模拟器
  - 副标题：体验不同的抽奖玩法
  - 标题样式：居中布局，主标题突出显示
  - 不需要 Logo

- **抽奖卡片区域**
  - 布局方式：垂直列表排列
  - 三个卡片按钮依次为：惊世抽奖、天问抽奖、平行服抽奖
  - 卡片内容布局：
    - 标题和简介垂直居中排列
    - 标题使用较大字号（建议 24px）
    - 简介使用较小字号（建议 14px）
    - 文字居中对齐
  - 卡片样式：
    - 统一宽度（建议使用响应式宽度，如 80% 或 max-width）
    - 合适的卡片间距（建议 20-24px）
    - 圆角边框设计（建议 8-12px）
    - hover 效果：轻微上浮阴影
    - 点击效果：按压反馈

- **公告栏设计**
  - 与卡片保持相同宽度
  - 默认收缩状态
  - 点击展开/收起
  - 不保存展开状态（每次进入页面默认收起）
  - 展开动画效果：平滑过渡
  - 公告内容采用简单列表形式展示

### 交互设计考虑点
- **响应式设计**
  - 采用移动端优先设计
  - 页面宽度控制：
    - 移动端：100% 宽度
    - 平板/桌面端：保持手机端宽度（建议最大宽度 480px）
    - 超出宽度部分居中显示
  - 内容布局：
    - 标题区域：固定高度，垂直居中
    - 卡片区域：垂直排列，保持间距
    - 公告栏：与卡片保持一致宽度
  - 触摸优化：
    - 合适的点击区域大小（建议最小 44px × 44px）
    - 适当的元素间距，防止误触
    - 清晰的触摸反馈

- **转场动画效果**
  - 页面切换时的平滑过渡
  - 卡片点击时的反馈动画
  - 公告栏展开/收起动画

- **加载状态展示**
  - 页面首次加载时显示：
    - 简单的加载图标
    - 文字提示："四象图准备中....."
    - 保持居中显示
    - 使用主题配色方案中的颜色
  - 公告内容加载时使用相同的加载样式

- **错误状态处理**
  - 网络请求失败提示
  - 重试机制
  - 友好的错误提示信息

### 主题设计
- **水墨风配色方案**
  - 主色调：
    - 墨黑色 (#1D2327) - 用于主要文字和强调
    - 淡墨色 (#4A4A4A) - 用于次要文字
    - 破墨灰 (#8C8C8C) - 用于边框和分割线
  - 背景色：
    - 宣纸白 (#F8F9F6) - 用于页面背景
    - 生宣色 (#F2F1E9) - 用于卡片背景
    - 老宣色 (#E9E6DD) - 用于卡片hover状态
  - 点缀色：
    - 淡竹青 (#7A8B8B) - 用于装饰元素
    - 浅墨色 (#363636) - 用于重要提示
  
- **卡片视觉效果**
  - 边框：
    - 使用破墨灰色细线
    - 模拟毛笔书写的不规则感
    - 边角轻微晕染效果
  - 背景：
    - 生宣色打底
    - 添加细微的宣纸纹理
    - 轻微的渐变效果模拟墨晕
  - 阴影：
    - 极其轻微的阴影
    - 类似水墨晕染的扩散效果
  - hover状态：
    - 背景色过渡到老宣色
    - 边框加深，模拟墨色加重
    - 保持优雅的过渡动画

- **整体视觉效果**
  - 留白：充分运用空白空间，体现水墨画的疏朗感
  - 层次：通过不同深浅的墨色营造层次感
  - 韵律：确保各元素之间的间距富有韵律感
  - 意境：整体视觉效果清雅淡然，富有东方韵味

### 性能考虑
- **首屏加载优化**
  - 路由懒加载，按需引入页面组件
  - 关键CSS内联，非关键CSS异步加载
  - 合理使用预加载（preload）和预连接（preconnect）
  - 首屏必要资源优先加载
  - 延迟加载非首屏内容（如公告栏数据）

- **图片资源优化**
  - 图片格式选择：
    - 将 PNG 图片转换为 WebP 格式（可减少 25-35% 的文件大小）
    - 提供 PNG 作为 WebP 的降级方案
    - 小图标优先使用 SVG 格式
  - 图片压缩策略：
    - 使用 tinypng 等工具压缩 PNG 图片
    - 移除图片元数据
    - 选择合适的压缩率
  - 响应式图片处理：
    - 使用 srcset 和 sizes 属性
    - 为不同屏幕密度提供对应分辨率的图片
  - 加载策略：
    - 非关键图片使用懒加载
    - 关键图片使用预加载
    - 考虑使用渐进式加载

- **动画性能优化**
  - 使用 transform 和 opacity 实现动画效果
  - 为动画元素添加 will-change 属性
  - 避免大量同时执行的动画
  - 使用 CSS 动画代替 JavaScript 动画
  - 卡片hover效果使用 GPU 加速
  - 公告栏展开收起使用 height 动画，避免重排

- **代码优化**
  - 组件按需加载
  - 合理使用缓存策略
  - 减少不必要的重渲染
  - 使用 memo 优化组件更新
  - 避免内联样式，使用 CSS 类名

- **资源加载策略**
  - 静态资源 CDN 加速
  - 合理的缓存策略
  - 资源压缩和合并
  - 使用 HTTP/2 多路复用


### 数据管理
- **公告数据获取方式**
  - 使用静态 JSON 文件存储公告数据
  - 按时间倒序展示公告内容
  - 支持简单的文本格式化

### 其他功能考虑
- **基础功能**
  - 页面刷新功能
  - 简单的错误提示
  - 加载状态展示